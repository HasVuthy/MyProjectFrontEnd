<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../CSS/index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <script src="../Jquery/jquery-3.6.1.min.js"></script>
    <title>Vuthy_Shop</title>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-xxl-12 col-xl-12 col-menu">
                <div class="menu">
                    <ul>
                        <li class="menu-btn active home" data-category="*">
                            <i class="fa-solid fa-house"></i>
                        </li>
                        <li class="menu-btn" data-category="4">
                            Shirt
                        </li>
                        <li class="menu-btn" data-category="3">
                            Jecket
                        </li>
                        <li class="menu-btn" data-category="2">
                            Shoes
                        </li>
                        <li class="menu-btn" data-category="1">
                            Headset
                        </li>
                        <div class="bar">
                            <i class="fa-solid fa-bars nav-br"></i>
                        </div>
                    </ul>
                </div>
                <div class="cart">
                    <i class="fa-solid fa-cart-shopping"></i>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xxl-12 col-xl-12 Cart">
            <div class="cart-detail" >
                <div class="image">
                    <img src="../IMG/head1.webp" alt="">
                </div>
                <div class="detail">
                    <div class="cencel">
                        <i class="fa-solid fa-xmark"></i>
                    </div>
                    <div class="main-detail">
                        <div class="for-price">
                            Price : 50$
                        </div>
                        <div class="product-detail">
                            <p><span>Product Detail :</span> asperiores aut nam ducimus ipsa  dolore eos? Fuga, ex voluptates.</p>
                        </div>
                    </div>
                   <div class="butt">
                        <button class="btn btn-primary">Add To Card</button>
                   </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="cart-buy">
        <div class="buy-detail">
            <div class="cencel-buy">
                <i class="fa-solid fa-xmark"></i>
            </div>
            <table class="table table-bordered tb_data">
                <tr class="tr_table">
                    <th>IMG</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Total</th>
                    <th>Action</th>
                </tr>
                <!-- <tr>
                    <td width="150px">
                        <div class="Img">
                            <img src="../IMG/head2.jpeg" alt="">
                        </div>
                    </td>
                    <td width="100px"><p>10$</p></td>
                    <td width="100px"><input type="number" value="1"></td>
                    <td width="100px"><p>10$</p></td>
                    <td width="210px"><span><input type="button" value="Cencel" class="btn btn-primary delete"> <input type="button" value="Buy Now" class="btn btn-success buy-now"></span></td>
                </tr> -->
            </table>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-xxl-12 col-xl-12">
                <div class="nav-menu">
                    <ul>
                        <li class="menu-btn active home" data-category="*">
                            <i class="fa-solid fa-house"></i>
                        </li>
                        <li class="menu-btn" data-category="4">
                            Shirt
                        </li>
                        <li class="menu-btn" data-category="3">
                            Jecket
                        </li>
                        <li class="menu-btn" data-category="2">
                            Shoes
                        </li>
                        <li class="menu-btn" data-category="1">
                            Headset
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="container pro">
        <div class="Main-product">
            <div class="row main">
                <div class="col-xxl-3 col-xl-3 product">
                    <img src="../IMG/hat2.jpg" alt="">
                    <div class="border"></div>
                       <span> <p>5$</p></span>
                       <span> <button class="btn btn-primary add-card">Add To Card</button></span>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row Footer">
            <div class="col-4 Foot_left">
                <div class="Left_foot">
                    <div class="left-footer">
                        <h3>T-SHOP</h3>
                        <p>Vuthy.hah@gmail.com</p>
                        <p>Tel: 078233054</p>
                    </div>
                </div>
            </div>
            <div class="col-8">
                <div class="Right_foot">
                    <div class="foot_right">
                        <div class="foot-all">
                            <ul>
                                <li class="menu-btn" data-category="4">
                                    Shirt
                                </li>
                                <li class="menu-btn" data-category="3">
                                    Jecket
                                </li>
                                <li class="menu-btn" data-category="2">
                                    Shoes
                                </li>
                                <li class="menu-btn" data-category="1">
                                    Headset
                                </li>
                            </ul>
                          </div>
                          <div class="foot-all">
                            <ul>
                                <li>
                                    Our Store
                                </li>
                                <li>
                                    About Us
                                </li>
                                <li>
                                    Subscribe
                                </li>
                                <li>
                                    FAQ
                                </li>
                            </ul>
                        </div>
                        <div class="foot-all">
                            <ul>
                                <li>
                                    Terms & Conditions
                                </li>
                                <li>
                                    Store Policy
                                </li>
                                <li>
                                    Shipping & Return
                                </li>
                                <li>
                                    Payment & Methods
                                </li>
                              </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row Icon-logo">
            <div class="col-3 Icon-left">
                <div class="Left-icon">
                    <div class="left-icon">
                        <ul>
                            <li>
                                <a href="https://youtube.com/@Vu-Thy?si=dz2Jk-l9DPBvcoue"><i class="fa-brands fa-youtube"></i></a>
                            </li>
                            <li>
                                <a href="https://www.instagram.com/hasvuthy___?igsh=a3Zqcmc4ajZtaDFi"><i class="fa-brands fa-instagram"></i></a>
                            </li>
                            <li>
                                <a href="https://www.facebook.com/vuthy.has.10?mibextid=ZbWKwL"><i class="fa-brands fa-facebook"></i></a>
                            </li>
                            <li>
                                <a href="https://www.tiktok.com/@spone20?_t=8l57B5K5cmN&_r=1"><i class="fa-brands fa-tiktok"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-9">
                <div class="Right-icon">
                    <div class="icon-right">
                        <p>
                            Â© 2035 by T Shop. Powered and secured by Vuthy
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    $(document).ready(function(){
        const item =[
            {   "id":"product1",
                "category":"1",
                "img":"../IMG/head1.webp",
                "price":"23$"
            },
            {   
                "id":"product2",
                "category":"4",
                "img":"../IMG/shirt3.webp",
                "price":"8$"
            },
            {   
                "id":"product3",
                "category":"2",
                "img":"../IMG/shoe6.jpeg",
                "price":"65$"
            },
            {
                "id":"product4",
                "category":"1",
                "img":"../IMG/head3.jpeg",
                "price":"43$"
            },
            {
                "id":"product5",
                "category":"4",
                "img":"../IMG/shirt2.jpeg",
                "price":"15$"
            },
            {
                "id":"product6",
                "category":"1",
                "img":"../IMG/head1.webp",
                "price":"25$"
            },
            {
                "id":"product7",
                "category":"2",
                "img":"../IMG/shoe3.jpeg",
                "price":"85$"
            },
            {
                "id":"product8",
                "category":"3",
                "img":"../IMG/jeck1.webp",
                "price":"35$"
            },
            {
                "id":"product9",
                "category":"2",
                "img":"../IMG/shoe2.jpeg",
                "price":"45$"
            },
            {
                "id":"product10",
                "category":"3",
                "img":"../IMG/jeck2.webp",
                "price":"25$"
            },
            {
                "id":"product11",
                "category":"3",
                "img":"../IMG/jeck3.jpeg",
                "price":"33$"
            },
            {
                "id":"product12",
                "category":"4",
                "img":"../IMG/shirt4.webp",
                "price":"9$"
            },
            {
                "id":"product13",
                "category":"3",
                "img":"../IMG/jeck4.jpeg",
                "price":"22$"
            },
            {
                "id":"product14",
                "category":"2",
                "img":"../IMG/shoe4.jpeg",
                "price":"25$"
            },
            {
                "id":"product15",
                "category":"4",
                "img":"../IMG/shirt1.jpeg",
                "price":"10$"
            },
            {
                "id":"product16",
                "category":"1",
                "img":"../IMG/head2.jpeg",
                "price":"12$"
            },
        ]
        let product="";
        for(i in item){
            product+=` <div class="col-xxl-3 col-xl-3 product"">
                    <img class="Image" src="${item[i].img}" alt="">
                    <div class="border"></div>
                       <span> <p>${item[i].price}</p><button class="btn btn-primary add-card">Add To Card</button></span>
                </div>`
        }
        $('.main').html(product);

        function renderProducts(category) {
            let filteredProducts = item.filter(product => product.category === category || category === '*');
            let productsHTML = '';
            filteredProducts.forEach(product => {
                productsHTML += `
                <div class="col-xxl-3 col-xl-3 product" data-product-id="${product.id}">
                    <img class="Image" src="${product.img}" alt="">
                    <div class="border"></div>
                       <span> <p>${product.price}</p><button class="btn btn-primary add-card">Add To Card</button></span>
                </div>
                `;
            });
            $('.main').html(productsHTML);
        }

        const allbtn=$('.menu-btn');
        allbtn.click(function(){
            allbtn.removeClass('active');
            $(this).addClass('active');
            const category = $(this).data('category').toString();
            renderProducts(category);
        })
        $('.nav-br').click(function(){
            $('.nav-menu').slideToggle();
        }) 
        $('.Image').click(function(){
            $('.cart-detail').css("display","flex");
        })
        $('.cencel').click(function(){
            $('.cart-detail').css("display","none");
        })
        $('.Image').on('click', '.product', function() {
        const index = $(this).index(); // Get the index of the clicked product
        const product = item[index]; // Get the corresponding product from the item array
        const detailHTML = `
            <div class="image">
                <img src="${product.img}" alt="">
            </div>
            <div class="detail">
                <div class="cencel">
                    <i class="fa-solid fa-xmark"></i>
                </div>
                <div class="main-detail">
                    <div class="for-price">
                        Price: ${product.price}
                    </div>
                    <div class="product-detail">
                        <p><span>Product Detail:</span> Asperiores aut nam ducimus ipsa dolore eos? Fuga, ex voluptates.</p>
                    </div>
                </div>
                <div class="butt">
                    
                </div>
            </div>
        `;
            $('.cart-detail').html(detailHTML);
            $('.cart-detail').css("display", "flex");
            $('.cencel').click(function(){
                $('.cart-detail').css("display","none");
            })
        });

        $('.main').on('click', '.Image', function() {
            const productId =$(this).closest('.product').data('product-id'); // Get the product id from data attribute
            const product = item.find(p => p.id === productId); // Find the corresponding product in the item array
            const detailHTML = `
                <div class="image">
                    <img src="${product.img}" alt="">
                </div>
                <div class="detail">
                    <div class="cencel">
                        <i class="fa-solid fa-xmark"></i>
                    </div>
                    <div class="main-detail">
                        <div class="for-price">
                            Price: ${product.price}
                        </div>
                        <div class="product-detail">
                            <p><span>Product Detail:</span> Asperiores aut nam ducimus ipsa dolore eos? Fuga, ex voluptates.</p>
                        </div>
                    </div>
                    <div class="butt">
                        <p class="btn btn-primary add-card">Add To Cart</p>
                    </div>
                </div>
            `;
            $('.cart-detail').html(detailHTML);
            $('.cart-detail').css("display", "flex");
        });

        // Add click event for cancel button inside the cart detail
        $('.cart-detail').on('click', '.cencel', function() {
            $('.cart-detail').css("display", "none");
        });
        $('.menu-btn').click(function(){
            $('.cart-detail').css("display", "none");
        })
        // $('.product').on(function(){
        //     $('.nav-menu').slideUp();
        // })
        $('.main').on('click','.product',function(){
            $('.nav-menu').slideUp();
            $('.cart-buy').css('display','none')
        })
        $('.nav-br').click(function(){
            $('.cart-detail').css("display", "none");
        })

        $('.cart').click(function(){
            $('.cart-buy').css("display", "block");
            $('.cart-detail').css("display", "none");
        })
        $('.cencel-buy').click(function(){
            $('.cart-buy').css("display", "none");
        });

        $('input[type="number"]').on('input', function() {
            var $row = $(this).closest('tr');
            var quantity = $(this).val();
            var price = parseFloat($row.find('td:eq(1) p').text()); // Get the price from the second column
            var total = price * quantity;
            $row.find('td:eq(3) p').text(total.toFixed(2) + '$'); // Update the total in the fourth column
        });

        $('.tb_data').on('click','.delete',function(){
            var tr = $(this).closest('tr'); 
            tr.remove(); 
        })
    

        $('.add-card').click(function(){
        const $product = $(this).closest('.product');
        const index = $product.index();
        const product = item[index]; 

        // Get the values of product details
        const imgSrc = product.img;
        const price = product.price;
        const quantity = 1;
        const total = price; 

        // Construct the HTML for a new row in the table
        const newRowHTML = `
            <tr>
                <td width="150px">
                    <div class="Img">
                        <img src="${imgSrc}" alt="">
                    </div>
                </td>
                <td width="100px"><p>${price}</p></td>
                <td width="100px"><input type="number" value="${quantity}"></td>
                <td width="100px"><p>${total}</p></td>
                <td width="210px"><span><input type="button" value="Cancel" class="btn btn-primary delete"> <input type="button" value="Buy Now" class="btn btn-success buy-now"></span></td>
            </tr>
        `;

        // Append the new row HTML to the table
        $('.tb_data').find('.tr_table').after(newRowHTML);
        // $('.tb_data').append(newRowHTML);

        // Optionally, you can hide the cart detail section after adding the product
        $('.cart-buy').css("display", "block");
        $('.cart-detail').css("display", "none");
        alert("Add to card successfully")
    });

    $('.main').on('click','.add-card',function(){
        const productId = $(this).closest('.product').data('product-id'); // Get the product id from data attribute
        const product = item.find(p => p.id === productId);
        const imgSrc = product.img;
        const price = product.price;
        const quantity = 1;
        const total = price; 
        const addFilter=` <tr>
                <td width="150px">
                    <div class="Img">
                        <img src="${imgSrc}" alt="">
                    </div>
                </td>
                <td width="100px"><p>${price}</p></td>
                <td width="100px"><input type="number" value="${quantity}"></td>
                <td width="100px"><p>${total}</p></td>
                <td width="210px"><span><input type="button" value="Cancel" class="btn btn-primary delete"> <input type="button" value="Buy Now" class="btn btn-success buy-now"></span></td>
            </tr>`
            $('.tb_data').find('.tr_table').after(addFilter);
            $('.cart-buy').css("display", "block");
            $('.cart-detail').css("display", "none");
            alert("Add to card successfully")
    })
})
</script>
</html>